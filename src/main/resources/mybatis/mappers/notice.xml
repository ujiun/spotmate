<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="notice">

	<select id="getList" resultType="nVo">
		select rn,
			no,
			type,
			title,
			hit,
			regDate,
			admin,
			manage,
			content
		from(select rownum rn,
			no,
			type,
			title,
			hit,
			regDate,
			admin,
			manage,
			content
		from (select no,
			type,
			title,
			hit,
			to_char(regDate, 'yyyy-mm-dd') regDate,
			admin,
			manage,
			content
		from notice
		order by no desc))
		
	</select>
	
	<insert id="insertNotice" parameterType="map">
		insert into notice
		values(
			seq_notice_no.nextval,
			#{notiDetail},
			#{title},
			0,
			sysdate,
			'spotmate',
			'',
			#{content}
		)
	</insert>
	
	<delete id="deleteNotice" parameterType="int">
		delete from notice
		where no = #{no}
	</delete>
	
	<select id="getNoticeContent" parameterType="int" resultType="nVo">
		select admin,
			to_char(regDate, 'yyyy-mm-dd') regDate,
			type,
			title,
			content
		from notice
		where no = #{noticeNo}
	</select>

</mapper>